server:
  build: ./docker/server/development
  volumes:
    - ./docker/server/development/sites-enabled/:/etc/apache2/sites-enabled/
    - ./docker/server/development/php/php.ini:/usr/local/etc/php/conf.d/30-custom.ini
    - ./docker/server/development/php/xdebug.ini:/usr/local/etc/php/conf.d/50-xdebug.ini
    - ./www/html/development:/var/www/html
  environment:
    - APP_ENV=development
    - APP_DEBUG=true
    - APP_KEY=DdQr2jPqj5SvoY3jveIY6hfCMakJKaEY
    - QUEUE_DRIVER=database
    - DB_CONNECTION=pgsql
    - DB_HOST=postgres
    - DB_DATABASE=data
    - DB_USERNAME=admindata
    - DB_PASSWORD=ght2qir2m1

    - PAYPAL_CLIENT_ID=ASaS3u3QMquZqSSbMNJQ8CRfwnObcyJAZKQ9mWO9VDbDtnPzmU7i_VD0ImckBUZ7PLQaHHPN-iNzvzH3
    - PAYPAL_SECRET_ID=EG8HQoxVPEo74Qlzjyojp_VnOgRe2lilnCAnJCXj3a25yYB6s8oApVuYzzuANwLNIvvXsilUdpm34r2b

    - FACEBOOK_ID=1641499756127430
    - FACEBOOK_SECRET_CLIENT=8b1c01de9372d057cf58604daa91c4a5
    - FACEBOOK_CALLBACK=http://automated-blogger.org/admin/callback/facebook

    - YOUTUBE_API_KEY=AIzaSyCrTGoLnxj9XPxXoAgS8aXp5oI8Mib6sm0
    - YOUTUBE_ID=499070319532-d8g9kct377s4qv23j7rkl1lau9j9qtfu.apps.googleusercontent.com
    - YOUTUBE_SECRET_CLIENT=hh4ZMyBW_3SD8NSLg45td1GY
    - YOUTUBE_CALLBACK=http://automated-blogger.org/admin/callback/youtube

    - APP_DEFAULT_DOMAIN=automated-blogger
  ports:
    - 80:80
  links:
    - postgres:postgres
    - maildev:maildev

postgres:
  image: postgres
  volumes:
    - ./var/local/postgresql:/var/lib/postgresql/data
  environment:
    - POSTGRES_DB=data
    - POSTGRES_USER=admindata
    - POSTGRES_PASSWORD=ght2qir2m1
    - PGDATA=/var/lib/postgresql/data

maildev:
  image: djfarrelly/maildev
  ports:
    - "1080:80"